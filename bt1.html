<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Qu·∫£n l√Ω s√°ch</title>
</head>
<body>
    <script>
        let choice;
        let contacts = [];

        function displayContacs() {
        console.table(contacts);
        }

        do {
            choice = +prompt(
`           1. Th√™m ƒë·ªëi t∆∞·ª£ng Contact v√†o danh s√°ch li√™n h·ªá.
            2. Hi·ªÉn th·ªã danh s√°ch danh b·∫°.
            3. T√¨m ki·∫øm th√¥ng tin Contact theo s·ªë ƒëi·ªán tho·∫°i.
            4. C·∫≠p nh·∫≠t th√¥ng tin Contact(name, email, phone) theo id.
            5. X√≥a m·ªôt ƒë·ªëi t∆∞·ª£ng Contact  kh·ªèi danh s√°ch danh b·∫° theo id.
            6.Tho√°t.`
            );

            switch (choice) {
                case 1:
                    let id = Math.ceil(Math.random() * 100000000);
                    let name = prompt("Nh·∫≠p t√™n: ");
                    let email = prompt("Nh·∫≠p email: ");
                    let phone = prompt("Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i: ");
                    const contact = {
                        id,
                        name,
                        email,
                        phone,
                    };
                    contacts.push(contact);
                    break;
                case 2:
                displayContacs();
                break;

                case 3:
                let phoneSearch = prompt("Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i c·∫ßn t√¨m: ");
                let findContactByPhone = contacts.findIndex((contact) => {
                    return contact.phone === phoneSearch;
                });
                if (findContactByPhone !== -1) {
                    console.log(`T√¨m th·∫•y th√¥ng tin li√™n h·ªá c√≥ s·ªë ƒëi·ªán tho·∫°i ${phoneSearch}`);
                } else {
                    console.log(`Kh√¥ng t√¨m th·∫•y th√¥ng tin li√™n h·ªá c√≥ s·ªë ƒëi·ªán tho·∫°i ${phoneSearch}`);
                }
                break;

                case 4:
                let idContactUpdate = +prompt("Nh·∫≠p id Contact c·∫ßn c·∫≠p nh·∫≠t: ").trim();
                let findContactById = contacts.findIndex((contact) => {
                    return contact.id === idContactUpdate;
                });
                if (findContactById !== -1) {
                    let indexUpdate = findContactById;
                    let newName = prompt("Nh·∫≠p t√™n m·ªõi: ");
                    let newEmail = prompt("Nh·∫≠p email m·ªõi: ");
                    let newPhone = prompt("Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i m·ªõi: ");
                    contacts[indexUpdate].name = newName;
                    contacts[indexUpdate].email = newEmail;
                    contacts[indexUpdate].phone = newPhone;
                    console.log(`C·∫≠p nh·∫≠t th√†nh c√¥ng th√¥ng tin li√™n h·ªá c√≥ id ${idContactUpdate}`);
                } else {
                    console.log(`Kh√¥ng t√¨m th·∫•y th√¥ng tin li√™n h·ªá c√≥ id ${idContactUpdate}`);
                }
                break;

                case 5:
                let idContactDelete = +prompt("Nh·∫≠p id Contact c·∫ßn x√≥a: ").trim();
                let findContacDeletetById = contacts.findIndex((contact) => {
                    return contact.id === idContactDelete;
                })
                if (findContacDeletetById !== -1) {
                    let indexDelete = findContacDeletetById;
                    contacts.splice(indexDelete, 1);
                    console.log(`X√≥a th√†nh c√¥ng th√¥ng tin li√™n h·ªá c√≥ id ${idContactDelete}`);
                } else {
                    console.log(`Kh√¥ng t√¨m th·∫•y th√¥ng tin li√™n h·ªá c√≥ id ${idContactDelete}`);
                }
                break;

                case 6:
                console.log("üëã Tho√°t ch∆∞∆°ng tr√¨nh.");
                break;

                default:
                break;
            }
        } while (choice !== 6);
    </script>
</body>
</html>
